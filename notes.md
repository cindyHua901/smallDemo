# JS设计原则
## 各司其职
## 复杂UI的设计方法
### 插件机制/注入依赖
### 讨论模板化
把模板 js css都放在一起。
提高组件的可维护性
### 组件模型抽象
把组件模型抽象出来，可以由它扩展出其他组件.
这样就可以做一个最简单的UI框架啦。
UI组件框架的雏形。可以复用。
## js的局部细节控制
input x-> function f -> output f(x)
#### 讨论:处理"只能执行一次"
如何进行统一的抽象
(```)
// 抽象一个 once高阶函数,返回函数

function once(fn){
  return function(...args){
    if(fn){
      let ret = fn.apply(this, args);
      fn = null;
      return ret;
    }
  }
}
(```)
高阶函数 节流
使用场景：
 在很大的元素或者画布上监听 浏览器滚轮,mousemove事件，触发频率很高的时候就需要使用节流函数，来解节约资源
 debounce函数
使用场景：
用户行为最终状态，比如点按钮很多次连续点的时候，只执行一次。避免用户重复提交
##### 处理异步的事情
可以用consumer这个方法
执行方法的时候不会直接执行，而是把它放到任务队列里；每个多少毫秒去执行它。由此将同步的操作变成异步的操作。
### 声明式 vs 指令式编程
指令式编程（更常见）：关注怎么做
申明式编程：关注做什么（过程抽象）
### 高阶函数
once throttle debounced consumer iterative都是高阶函数
它们自身输入函数或返回函数，被称为高阶函数
## 小结：如何写好JS
1. 各司其职：JS尽量只做状态管理
2. 结构、API、控制流分离设计UI组件
3. 插件和模板化，并抽象出组件模型
4. 运用过程抽象的技巧来抽象并优化局部API
